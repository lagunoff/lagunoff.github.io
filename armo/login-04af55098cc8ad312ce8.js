webpackJsonp([5],{0:function(e,t,n){n(396),n(397),e.exports=n(655)},380:function(e,t,n){"use strict";function r(e,t){var n=arguments.length<=2||void 0===arguments[2]||arguments[2],r={};for(var o in e)!e.hasOwnProperty(o)||t.hasOwnProperty(o)||n&&!a.Properties.hasOwnProperty(o)||(r[o]=e[o]);return r}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var a=n(501)},644:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(a,o){try{var i=t[a](o),l=i.value}catch(u){return void n(u)}return i.done?void e(l):Promise.resolve(l).then(function(e){return r("next",e)},function(e){return r("throw",e)})}return r("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(15),c=(r(s),n(1)),f=r(c),d=n(382),p=r(d),g=n(645),m=r(g),h=n(380),y=(r(h),n(115)),b=(r(y),n(660),fetch,function(e){function t(e){var n=this;o(this,t);var r=i(this,Object.getPrototypeOf(t).call(this,e));return r._login=function(){var e=a(regeneratorRuntime.mark(function t(e,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location="/";case 1:case"end":return e.stop()}},t,n)}));return function(t,n){return e.apply(this,arguments)}}(),r._loginChanged=function(e){r.setState({login:e.target.value})},r._passwordChanged=function(e){r.setState({password:e.target.value})},r.state={translations:e.translations,locale:e.locale,login:"",password:"",status:"initial"},r}return l(t,e),u(t,[{key:"render",value:function(){return f["default"].createElement(p["default"],{translations:this.state.translations,locale:this.state.locale,availableLocales:["en-US","ru-RU"],theme:this.props.theme},f["default"].createElement(m["default"],{onSubmit:this._login,onLoginChange:this._loginChanged,onPasswordChange:this._passwordChanged,login:this.state.login,password:this.state.password,status:this.state.status}))}}]),t}(f["default"].Component));b.propTypes={translations:f["default"].PropTypes.object,locale:f["default"].PropTypes.string.isRequired,theme:f["default"].PropTypes.object.isRequired,successLoginUrl:f["default"].PropTypes.string},b.defaultProps={successLoginUrl:"/"},t["default"]=b},645:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.styleSheet=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(1),f=r(c),d=n(1275),p=r(d),g=n(82),m=r(g),h=n(170),y=r(h),b=n(338),v=r(b),w=n(138),P=r(w),_=n(106),T=r(_),x=n(646),O=r(x),S=(n(617),n(182)),E=r(S),j=n(380),C=r(j),k=n(18),N=r(k),R=n(19),L=n(107),M=t.styleSheet=(0,R.createStyleSheet)("LoginPage",function(e){var t=24,n=16,r=8;return{root:{width:"100%",minHeight:"100%",position:"absolute",background:L.grey[50],margin:"0 auto"},title:s({},e.typography.subheading,{textAlign:"center",margin:"0 0 "+n+"px 0"}),heading:s({},e.typography.display2,{textAlign:"center",marginBottom:3*t}),formCard:l({padding:n,textAlign:"center",maxWidth:350,margin:"0 auto",boxSizing:"border-box"},e.breakpoints.down("sm"),{marginLeft:r,marginRight:r,maxWidth:"calc(100% - "+2*r+"px)"}),container:{width:"100%",position:"absolute",top:"50%",transform:"translateY(-50%)",marginTop:-(2*t)},input:{width:"100%",display:"block"},field:{"&:first-child":{marginTop:0}},remember:{display:"flex",flexDirection:"row",alignItems:"center",marginLeft:-n},submit:{width:"100%",marginTop:t},logo:{margin:2*t+"px auto 0 auto"}}}),U=function(e){function t(e,n){a(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e,n));return r._handleLoginChange=function(e){r.setState({login:e.target.value})},r._handlePasswordChange=function(e){r.setState({password:e.target.value})},r._handleLocaleChange=function(e){storage.setItem("locale",e),r.setState({i18n:internationalization.loadTranslations(e),locale:e})},r._focusLoginField=function(){var e=ReactDOM.findDOMNode(r),t=e.querySelector("input[name=login]");t&&t.focus()},r._handleSubmit=function(e){e.preventDefault(),r.props.onSubmit&&r.props.onSubmit(e)},r._init(e,n),r}return i(t,e),u(t,[{key:"commentDidMount",value:function(){var e=this;setTimeout(function(){e._focusLoginField()},1e3)}},{key:"componentWillReceiveProps",value:function(e,t){t!==this.context&&this._init(e,t)}},{key:"_init",value:function(e,t){this.languagesOptions=[{label:t.i18n.gettext("English"),value:"en-US"},{label:t.i18n.gettext("Russian"),value:"ru-RU"}]}},{key:"render",value:function(){var e=this,n=this.props.className,r=function(t){return e.context.i18n.dcgettext("messages",t,"login-page")},a=(0,C["default"])(this.props,t.propTypes),o=this.context.styleManager.render(M,{group:"mui"}),i=(0,N["default"])(o.root,n);return f["default"].createElement("div",s({},a,{className:i}),f["default"].createElement("div",{className:o.container},f["default"].createElement("h1",{className:o.heading},r("Online operator workstation")),f["default"].createElement(T["default"],{className:o.formCard},f["default"].createElement(E["default"],{pageTitle:r("Sign in"),title:r("Please enter your login and password"),className:o.title}),f["default"].createElement("form",{onSubmit:this._handleSubmit},f["default"].createElement(p["default"],{className:o.field},f["default"].createElement(y["default"],null,r("Login")),f["default"].createElement(m["default"],{className:o.input,name:"login",value:this.props.login,onChange:this.props.onLoginChange})),f["default"].createElement(p["default"],{className:o.field},f["default"].createElement(y["default"],null,r("Password")),f["default"].createElement(m["default"],{className:o.input,name:"password",value:this.props.password,onChange:this.props.onPasswordChange})),f["default"].createElement("div",{className:o.remember},f["default"].createElement(v["default"],null),r("Remember me")),f["default"].createElement(P["default"],{type:"submit",className:o.submit,raised:!0,primary:!0,disabled:"fetching"===this.props.status},f["default"].createElement("i",{className:"material-icons"},"arrow_forward"),"  ",r("Sign in")))),f["default"].createElement(O["default"],{className:o.logo})))}}]),t}(f["default"].Component);U.propTypes={className:f["default"].PropTypes.string,login:f["default"].PropTypes.string,password:f["default"].PropTypes.string,locale:f["default"].PropTypes.string,status:f["default"].PropTypes.string,onSubmit:f["default"].PropTypes.func,onLocaleChange:f["default"].PropTypes.func,onLoginChange:f["default"].PropTypes.func,onPasswordChange:f["default"].PropTypes.func},U.contextTypes={styleManager:f["default"].PropTypes.object.isRequired,locale:f["default"].PropTypes.string.isRequired,i18n:f["default"].PropTypes.object.isRequired},t["default"]=U},646:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){return h}Object.defineProperty(t,"__esModule",{value:!0}),t.styleSheet=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),l=r(i),u=n(380),s=r(u),c=n(943),f=r(c),d=n(18),p=r(d),g=n(19),m=t.styleSheet=(0,g.createStyleSheet)("Logo",function(e){return{root:{textAlign:"center"},logoLink:{display:"block",position:"relative","&:after":{position:"absolute",cursor:"pointer",content:'""',width:"100%",height:"100%",display:"block",top:0,left:0},"&:hover":{"&:after":{background:"rgba(255,255,255,0.2)"}}},image:{width:200,"&:hover":{}},claim:{fontSize:16}}}),h=(new Date).getFullYear(),y=function b(e,t){var n=(0,s["default"])(e,b.propTypes),r=t.styleManager.render(m,{group:"mui"}),i=(0,p["default"])(r.root,e.className);return l["default"].createElement("div",o({},n,{className:i}),l["default"].createElement("a",{className:r.logoLink,href:"http://www.bitmaster.ru/",target:"_blank"},l["default"].createElement("img",{className:r.image,src:f["default"],alt:"Bitmaster logo"})),l["default"].createElement("span",{className:r.claim},"2003-",a()))};y.propTypes={className:l["default"].PropTypes.string},y.contextTypes={styleManager:l["default"].PropTypes.object.isRequired},t["default"]=y},655:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var a=n(390),o=r(a);n(391),n(389);var i=n(115),l=(r(i),n(235)),u=r(l),s=n(1),c=r(s),f=n(28),d=r(f),p=n(644),g=r(p),m=n(572),h=(r(m),n(393)),y=new Promise(function(e){"interactive"!==document.readyState&&"complete"!==document.readyState||e(),document.onreadystatechange=function(){"interactive"!==document.readyState&&"complete"!==document.readyState||(e(),document.onreadystatechange=void 0)}});Promise.all([y,(0,h.fetchTranslations)("ru-RU"),(0,o["default"])()]).then(function(e){var t=e[1],n=t.translations,r=t.locale,a=document.getElementById("app-mount-point"),o=document.getElementById("spinner"),i=(0,u["default"])(),l=c["default"].createElement(g["default"],{translations:n,locale:r,theme:i});d["default"].render(l,a,function(){o.parentNode.removeChild(o),a.style.display="block"})})},660:function(e,t){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(a,o){try{var i=t[a](o),l=i.value}catch(u){return void n(u)}return i.done?void e(l):Promise.resolve(l).then(function(e){return r("next",e)},function(e){return r("throw",e)})}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var r=(t.logout=function(){var e=n(regeneratorRuntime.mark(function t(e,n){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.logoutRequestUrl||n.apiUrl+"logout",t.next=3,e(r,{headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return a=t.sent,t.abrupt("return",a);case 5:case"end":return t.stop()}},t,this)}));return function(t,n){return e.apply(this,arguments)}}(),t.login=function(){var e=n(regeneratorRuntime.mark(function t(e,n,a,o){var i,l,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.loginUrl||n.apiUrl+"login",t.next=3,e(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:a,password:o})});case 3:if(l=t.sent,404!==l.status){t.next=6;break}throw r.fromCode("incorrect_login");case 6:return t.next=8,l.json();case 8:if(u=t.sent,u.auth_token){t.next=11;break}throw r.fromCode("invalid_response");case 11:return t.abrupt("return",u);case 12:case"end":return t.stop()}},t,this)}));return function(t,n,r,a){return e.apply(this,arguments)}}(),Error)},943:function(e,t,n){e.exports=n.p+"logo-0b0e10e099bd315a5d4efa95f3d1f8d6.png"},1275:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TextFieldLabel=t.TextFieldInput=t.TextField=t["default"]=void 0;var a=n(139),o=r(a),i=n(82),l=r(i),u=n(170),s=r(u);t["default"]=o["default"],t.TextField=o["default"],t.TextFieldInput=l["default"],t.TextFieldLabel=s["default"]}});